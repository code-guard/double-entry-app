<!--<mat-tab-group>-->
<!--    <mat-tab label="Partita doppia">Partita doppia</mat-tab>-->
<!--    <mat-tab label="Mastrini">Mastrini</mat-tab>-->
<!--</mat-tab-group>-->

<mat-table [dataSource]="dataSource">
    <ng-container matColumnDef="code">
        <mat-header-cell *matHeaderCellDef>Codice</mat-header-cell>
        <mat-cell *matCellDef="let row">
            <mat-form-field appearance="outline" *ngIf="row.id === rowData.id">
                <mat-label>Codice</mat-label>
                <input matInput type="number" [(ngModel)]="row.code">
            </mat-form-field>
            <span *ngIf="row.id !== rowData.id">{{ row.code }}</span>
        </mat-cell>
    </ng-container>
    <ng-container matColumnDef="date">
        <mat-header-cell *matHeaderCellDef>Data</mat-header-cell>
        <mat-cell *matCellDef="let row">
            <mat-form-field appearance="outline" *ngIf="row.id === rowData.id">
                <mat-label>Data</mat-label>
                <input matInput [matDatepicker]="picker">
                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>
            </mat-form-field>
            <span *ngIf="row.id !== rowData.id">{{ row.date }}</span>
        </mat-cell>
    </ng-container>
    <ng-container matColumnDef="name">
        <mat-header-cell *matHeaderCellDef>Name</mat-header-cell>
        <mat-cell *matCellDef="let row">
            <ng-select appearance="outline"
                       *ngIf="row.id === rowData.id"
                       [items]="names"
                       [(ngModel)]="row.name">
            </ng-select>
            <span *ngIf="row.id !== rowData.id">{{ row.name }}</span>
        </mat-cell>
    </ng-container>
    <ng-container matColumnDef="description">
        <mat-header-cell *matHeaderCellDef>Descrizione</mat-header-cell>
        <mat-cell *matCellDef="let row">
            <mat-form-field appearance="outline" *ngIf="row.id === rowData.id">
                <mat-label>Descrizione</mat-label>
                <input matInput type="text" [(ngModel)]="row.description">
            </mat-form-field>
            <span *ngIf="row.id !== rowData.id">{{ row.description }}</span>
        </mat-cell>
    </ng-container>
    <ng-container matColumnDef="give">
        <mat-header-cell *matHeaderCellDef>Dare</mat-header-cell>
        <mat-cell *matCellDef="let row">
            <mat-form-field appearance="outline" *ngIf="row.id === rowData.id">
                <mat-label>Dare</mat-label>
                <input matInput type="number" [(ngModel)]="row.give">
            </mat-form-field>
            <span *ngIf="row.id !== rowData.id">{{ row.give }}</span>
        </mat-cell>
    </ng-container>
    <ng-container matColumnDef="take">
        <mat-header-cell *matHeaderCellDef>Avere</mat-header-cell>
        <mat-cell *matCellDef="let row">
            <mat-form-field appearance="outline" *ngIf="row.id === rowData.id">
                <mat-label>Avere</mat-label>
                <input matInput type="number" [(ngModel)]="row.take">
            </mat-form-field>
            <span *ngIf="row.id !== rowData.id">{{ row.take }}</span>
        </mat-cell>
    </ng-container>
    <ng-container matColumnDef="actions">
        <mat-header-cell *matHeaderCellDef>Actions</mat-header-cell>
        <mat-cell *matCellDef="let row">
            <button mat-icon-button color="primary" *ngIf="row.id === rowData.id && !row.isNew" (click)="confirmRow()">
                <mat-icon aria-hidden="false">save</mat-icon>
            </button>
            <button mat-icon-button color="primary" *ngIf="row.id === rowData.id && !row.isNew" (click)="discardEditRow()">
                <mat-icon aria-hidden="false">close</mat-icon>
            </button>
            <button mat-icon-button color="primary" *ngIf="row.id === rowData.id && row.isNew" (click)="confirmRow()">
                <mat-icon aria-hidden="false">add</mat-icon>
            </button>
            <button mat-icon-button color="primary" *ngIf="row.id !== rowData.id" (click)="editRow(row)">
                <mat-icon aria-hidden="false">edit</mat-icon>
            </button>
            <button mat-icon-button color="primary" *ngIf="row.id !== rowData.id" (click)="deleteRow(row)">
                <mat-icon aria-hidden="false">delete</mat-icon>
            </button>
            <button mat-icon-button color="primary" *ngIf="row.id !== rowData.id" (click)="confirm(row)">
                <mat-icon aria-hidden="false">check</mat-icon>
            </button>
        </mat-cell>
    </ng-container>

    <mat-header-row *matHeaderRowDef="['code', 'date', 'name', 'description', 'give', 'take', 'actions']"></mat-header-row>
    <mat-row *matRowDef="let row; columns: ['code', 'date', 'name', 'description', 'give', 'take', 'actions']"></mat-row>
</mat-table>
